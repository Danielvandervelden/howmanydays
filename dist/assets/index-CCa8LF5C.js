(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))d(c);new MutationObserver(c=>{for(const g of c)if(g.type==="childList")for(const m of g.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&d(m)}).observe(document,{childList:!0,subtree:!0});function l(c){const g={};return c.integrity&&(g.integrity=c.integrity),c.referrerPolicy&&(g.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?g.credentials="include":c.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function d(c){if(c.ep)return;c.ep=!0;const g=l(c);fetch(c.href,g)}})();function se(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var N={exports:{}},ae=N.exports,G;function ue(){return G||(G=1,function(r,o){(function(l,d){r.exports=d()})(ae,function(){var l=1e3,d=6e4,c=36e5,g="millisecond",m="second",$="minute",T="hour",b="day",B="week",I="month",J="quarter",w="year",O="date",Z="Invalid Date",ne=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,re=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ie={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(s){var n=["th","st","nd","rd"],e=s%100;return"["+s+(n[(e-20)%10]||n[e]||n[0])+"]"}},P=function(s,n,e){var i=String(s);return!i||i.length>=n?s:""+Array(n+1-i.length).join(e)+s},oe={s:P,z:function(s){var n=-s.utcOffset(),e=Math.abs(n),i=Math.floor(e/60),t=e%60;return(n<=0?"+":"-")+P(i,2,"0")+":"+P(t,2,"0")},m:function s(n,e){if(n.date()<e.date())return-s(e,n);var i=12*(e.year()-n.year())+(e.month()-n.month()),t=n.clone().add(i,I),a=e-t<0,u=n.clone().add(i+(a?-1:1),I);return+(-(i+(e-t)/(a?t-u:u-t))||0)},a:function(s){return s<0?Math.ceil(s)||0:Math.floor(s)},p:function(s){return{M:I,y:w,w:B,d:b,D:O,h:T,m:$,s:m,ms:g,Q:J}[s]||String(s||"").toLowerCase().replace(/s$/,"")},u:function(s){return s===void 0}},x="en",A={};A[x]=ie;var z="$isDayjsObject",F=function(s){return s instanceof V||!(!s||!s[z])},R=function s(n,e,i){var t;if(!n)return x;if(typeof n=="string"){var a=n.toLowerCase();A[a]&&(t=a),e&&(A[a]=e,t=a);var u=n.split("-");if(!t&&u.length>1)return s(u[0])}else{var h=n.name;A[h]=n,t=h}return!i&&t&&(x=t),t||!i&&x},v=function(s,n){if(F(s))return s.clone();var e=typeof n=="object"?n:{};return e.date=s,e.args=arguments,new V(e)},f=oe;f.l=R,f.i=F,f.w=function(s,n){return v(s,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var V=function(){function s(e){this.$L=R(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[z]=!0}var n=s.prototype;return n.parse=function(e){this.$d=function(i){var t=i.date,a=i.utc;if(t===null)return new Date(NaN);if(f.u(t))return new Date;if(t instanceof Date)return new Date(t);if(typeof t=="string"&&!/Z$/i.test(t)){var u=t.match(ne);if(u){var h=u[2]-1||0,p=(u[7]||"0").substring(0,3);return a?new Date(Date.UTC(u[1],h,u[3]||1,u[4]||0,u[5]||0,u[6]||0,p)):new Date(u[1],h,u[3]||1,u[4]||0,u[5]||0,u[6]||0,p)}}return new Date(t)}(e),this.init()},n.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},n.$utils=function(){return f},n.isValid=function(){return this.$d.toString()!==Z},n.isSame=function(e,i){var t=v(e);return this.startOf(i)<=t&&t<=this.endOf(i)},n.isAfter=function(e,i){return v(e)<this.startOf(i)},n.isBefore=function(e,i){return this.endOf(i)<v(e)},n.$g=function(e,i,t){return f.u(e)?this[i]:this.set(t,e)},n.unix=function(){return Math.floor(this.valueOf()/1e3)},n.valueOf=function(){return this.$d.getTime()},n.startOf=function(e,i){var t=this,a=!!f.u(i)||i,u=f.p(e),h=function(H,M){var k=f.w(t.$u?Date.UTC(t.$y,M,H):new Date(t.$y,M,H),t);return a?k:k.endOf(b)},p=function(H,M){return f.w(t.toDate()[H].apply(t.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(M)),t)},y=this.$W,D=this.$M,E=this.$D,q="set"+(this.$u?"UTC":"");switch(u){case w:return a?h(1,0):h(31,11);case I:return a?h(1,D):h(0,D+1);case B:var C=this.$locale().weekStart||0,Y=(y<C?y+7:y)-C;return h(a?E-Y:E+(6-Y),D);case b:case O:return p(q+"Hours",0);case T:return p(q+"Minutes",1);case $:return p(q+"Seconds",2);case m:return p(q+"Milliseconds",3);default:return this.clone()}},n.endOf=function(e){return this.startOf(e,!1)},n.$set=function(e,i){var t,a=f.p(e),u="set"+(this.$u?"UTC":""),h=(t={},t[b]=u+"Date",t[O]=u+"Date",t[I]=u+"Month",t[w]=u+"FullYear",t[T]=u+"Hours",t[$]=u+"Minutes",t[m]=u+"Seconds",t[g]=u+"Milliseconds",t)[a],p=a===b?this.$D+(i-this.$W):i;if(a===I||a===w){var y=this.clone().set(O,1);y.$d[h](p),y.init(),this.$d=y.set(O,Math.min(this.$D,y.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},n.set=function(e,i){return this.clone().$set(e,i)},n.get=function(e){return this[f.p(e)]()},n.add=function(e,i){var t,a=this;e=Number(e);var u=f.p(i),h=function(D){var E=v(a);return f.w(E.date(E.date()+Math.round(D*e)),a)};if(u===I)return this.set(I,this.$M+e);if(u===w)return this.set(w,this.$y+e);if(u===b)return h(1);if(u===B)return h(7);var p=(t={},t[$]=d,t[T]=c,t[m]=l,t)[u]||1,y=this.$d.getTime()+e*p;return f.w(y,this)},n.subtract=function(e,i){return this.add(-1*e,i)},n.format=function(e){var i=this,t=this.$locale();if(!this.isValid())return t.invalidDate||Z;var a=e||"YYYY-MM-DDTHH:mm:ssZ",u=f.z(this),h=this.$H,p=this.$m,y=this.$M,D=t.weekdays,E=t.months,q=t.meridiem,C=function(M,k,j,W){return M&&(M[k]||M(i,a))||j[k].slice(0,W)},Y=function(M){return f.s(h%12||12,M,"0")},H=q||function(M,k,j){var W=M<12?"AM":"PM";return j?W.toLowerCase():W};return a.replace(re,function(M,k){return k||function(j){switch(j){case"YY":return String(i.$y).slice(-2);case"YYYY":return f.s(i.$y,4,"0");case"M":return y+1;case"MM":return f.s(y+1,2,"0");case"MMM":return C(t.monthsShort,y,E,3);case"MMMM":return C(E,y);case"D":return i.$D;case"DD":return f.s(i.$D,2,"0");case"d":return String(i.$W);case"dd":return C(t.weekdaysMin,i.$W,D,2);case"ddd":return C(t.weekdaysShort,i.$W,D,3);case"dddd":return D[i.$W];case"H":return String(h);case"HH":return f.s(h,2,"0");case"h":return Y(1);case"hh":return Y(2);case"a":return H(h,p,!0);case"A":return H(h,p,!1);case"m":return String(p);case"mm":return f.s(p,2,"0");case"s":return String(i.$s);case"ss":return f.s(i.$s,2,"0");case"SSS":return f.s(i.$ms,3,"0");case"Z":return u}return null}(M)||u.replace(":","")})},n.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},n.diff=function(e,i,t){var a,u=this,h=f.p(i),p=v(e),y=(p.utcOffset()-this.utcOffset())*d,D=this-p,E=function(){return f.m(u,p)};switch(h){case w:a=E()/12;break;case I:a=E();break;case J:a=E()/3;break;case B:a=(D-y)/6048e5;break;case b:a=(D-y)/864e5;break;case T:a=D/c;break;case $:a=D/d;break;case m:a=D/l;break;default:a=D}return t?a:f.a(a)},n.daysInMonth=function(){return this.endOf(I).$D},n.$locale=function(){return A[this.$L]},n.locale=function(e,i){if(!e)return this.$L;var t=this.clone(),a=R(e,i,!0);return a&&(t.$L=a),t},n.clone=function(){return f.w(this.$d,this)},n.toDate=function(){return new Date(this.valueOf())},n.toJSON=function(){return this.isValid()?this.toISOString():null},n.toISOString=function(){return this.$d.toISOString()},n.toString=function(){return this.$d.toUTCString()},s}(),K=V.prototype;return v.prototype=K,[["$ms",g],["$s",m],["$m",$],["$H",T],["$W",b],["$M",I],["$y",w],["$D",O]].forEach(function(s){K[s[1]]=function(n){return this.$g(n,s[0],s[1])}}),v.extend=function(s,n){return s.$i||(s(n,V,v),s.$i=!0),v},v.locale=R,v.isDayjs=F,v.unix=function(s){return v(1e3*s)},v.en=A[x],v.Ls=A,v.p={},v})}(N)),N.exports}var ce=ue();const S=se(ce);function de(){const{currentDateInputWrapper:r,currentDateInput:o}=L();if(!r||!o||!(o instanceof HTMLInputElement)){console.error("Couldn't find the current date inputs");return}return r&&!r.classList.contains("hidden")}function L(){const r=document.getElementById("current-date-wrapper"),o=document.getElementById("current-date"),l=document.getElementById("target-date"),d=Array.from(document.querySelectorAll(".date-radio")),c=Array.from(document.querySelectorAll(".verb-radio")),g=document.getElementById("result"),m=document.getElementById("error"),$=Array.from(document.querySelectorAll(".quick-action-button")),T=Array.from(document.querySelectorAll(".qc-verb-text")),b=Array.from(document.querySelectorAll(".quick-action-toggle"));return{currentDateInputWrapper:r,currentDateInput:o,targetDateInput:l,dateRadios:d,verbRadios:c,resultDiv:g,errorDiv:m,quickActionButtons:$,quickActionToggles:b,quickActionVerbs:T}}function Q(r){const{errorDiv:o}=L();if(!o){console.error("Couldn't find the error div");return}if(!r){o.innerText="";return}o.innerText=r}function U(r){const{resultDiv:o}=L();if(!o){console.error("Couldn't find the result div");return}if(!r){o.innerText="";return}o.innerText=r}function le(){const{resultDiv:r,errorDiv:o}=L();if(!r||!o){console.error("Couldn't find the result or error div");return}U(!1),Q(!1)}function te(r){const{verbRadios:o}=L();r>0?o.find(l=>{if(!(l instanceof HTMLInputElement)){console.error("Radio is not an instance of HTMLInputElement");return}l.value==="until"&&(l.checked=!0)}):o.find(l=>{if(!(l instanceof HTMLInputElement)){console.error("Radio is not an instance of HTMLInputElement");return}l.value==="since"&&(l.checked=!0)})}const X=()=>{const{quickActionVerbs:r,quickActionToggles:o}=L(),l=fe();if(!o.length){console.error("Couldn't find the quick action toggles");return}r.forEach((d,c)=>{if(!(d instanceof HTMLSpanElement)){console.error("Verb is not an instance of HTMLSpanElement");return}d.textContent=l??""})};function fe(){const{quickActionToggles:r}=L();if(!r.length){console.error("Couldn't find the quick action toggles");return}const o=Array.from(r).find(d=>{if(!(d instanceof HTMLInputElement)){console.error("Toggle is not an instance of HTMLInputElement");return}return d.checked});if(!o){console.error("No toggle is checked");return}const l=o==null?void 0:o.nextElementSibling;if(!(l instanceof HTMLLabelElement)){console.error("Label element is not an instance of HTMLLabelElement");return}return l.textContent}const he=()=>{const{currentDateInput:r,targetDateInput:o,dateRadios:l,verbRadios:d}=L();if(!o||!r){console.error("Couldn't find the date inputs");return}if(!l.length){console.error("Couldn't find the date radio's for whatever reason. Did we change the HTML?");return}if(!d.length){console.error("Couldn't find the verb radio's for whatever reason. Did we change the HTML?");return}o.addEventListener("change",_),r.addEventListener("change",_),l.forEach(c=>{c.addEventListener("change",_)}),d.forEach(c=>{c.addEventListener("change",_)})},me=()=>{const{quickActionButtons:r,quickActionToggles:o,quickActionVerbs:l}=L();if(!r.length){console.error("Couldn't find the quick action buttons");return}if(!o.length){console.error("Couldn't find the quick action toggles");return}if(!l.length){console.error("Couldn't find the quick action verbs");return}X(),o.forEach(d=>{d.addEventListener("change",X)}),r.forEach(d=>{d.addEventListener("click",()=>{const{targetDateInput:c}=L();if(!c||!(c instanceof HTMLInputElement)){console.error("Couldn't find the target date input");return}const g=o.find(m=>m instanceof HTMLInputElement?m.checked:!1);if(!(g instanceof HTMLInputElement)){console.error("Couldn't find the active quick action verb");return}if(g.value==="until-qc"){const m=d.getAttribute("data-date"),$=S(),T=S(`${$.year()}-${m}`);$.isAfter(T)?c.value=`${$.year()+1}-${m}`:c.value=`${$.year()}-${m}`}else{const m=d.getAttribute("data-date"),$=S(),T=S(`${$.year()}-${m}`);$.isBefore(T)?c.value=`${$.year()-1}-${m}`:c.value=`${$.year()}-${m}`}_()})})},_=()=>{le();const r=de(),{resultDiv:o,currentDateInput:l,verbRadios:d}=L();if(!o){console.error("Couldn't find the result div");return}if(!d.length){console.error("Couldn't find the verb radios");return}if(r){pe();return}ge()};function ge(){const{targetDateInput:r}=L();if(!r||!(r instanceof HTMLInputElement)){console.error("Couldn't find the target date input or it's not an input element");return}const o=S(r.value),l=S(),d=Math.ceil(o.diff(l,"day",!0)),c=d>0?"to go":"ago";U(`${Math.abs(d)} days ${c}`),te(d)}function pe(){const{currentDateInput:r,targetDateInput:o,verbRadios:l}=L();if(!(r instanceof HTMLInputElement)){console.error("currentDateInput is not an instance of HTMLInputElement");return}if(r.value.length||Q('Please enter a valid date in the "other" date field'),!o||!(o instanceof HTMLInputElement)){console.error("Couldn't find the target date input or it's not an input element");return}const d=S(o.value),c=S(r.value);if(!c.isValid()){Q('Please enter a valid date in the "other" date field');return}const g=Math.ceil(d.diff(c,"day",!0)),m=g>0?"to go":"ago";U(`${Math.abs(g)} days ${m}`),te(g)}_();function $e(){const r=Array.from(document.querySelectorAll(".date-radio"));if(!r.length){console.error("Couldn't find the date radio's for whatever reason. Did we change the HTML?");return}r.forEach(o=>{o.addEventListener("change",l=>{const d=l.target;if(!(d instanceof HTMLInputElement)){console.error("Event target is not an input element");return}ve(d.value==="other")})})}function ve(r){const o=document.getElementById("current-date-wrapper");if(!o){console.error("Couldn't find the current date wrapper");return}r?o.classList.remove("hidden"):o.classList.add("hidden")}function ee(){const r=document.getElementById("date");r&&(r.innerHTML=S().format("DD MMM YYYY HH:mm:ss"))}function ye(){ee(),setInterval(ee,1e3),$e(),he(),me()}document.addEventListener("DOMContentLoaded",ye);
//# sourceMappingURL=index-CCa8LF5C.js.map

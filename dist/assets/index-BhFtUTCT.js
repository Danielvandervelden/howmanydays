(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const g of f.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&i(g)}).observe(document,{childList:!0,subtree:!0});function s(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function i(c){if(c.ep)return;c.ep=!0;const f=s(c);fetch(c.href,f)}})();function mt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var N={exports:{}},gt=N.exports,nt;function pt(){return nt||(nt=1,function(t,e){(function(s,i){t.exports=i()})(gt,function(){var s=1e3,i=6e4,c=36e5,f="millisecond",g="second",T="minute",E="hour",w="day",U="week",I="month",K="quarter",b="year",q="date",X="Invalid Date",lt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,dt=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ft={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(u){var o=["th","st","nd","rd"],n=u%100;return"["+u+(o[(n-20)%10]||o[n]||o[0])+"]"}},W=function(u,o,n){var a=String(u);return!a||a.length>=o?u:""+Array(o+1-a.length).join(n)+u},ht={s:W,z:function(u){var o=-u.utcOffset(),n=Math.abs(o),a=Math.floor(n/60),r=n%60;return(o<=0?"+":"-")+W(a,2,"0")+":"+W(r,2,"0")},m:function u(o,n){if(o.date()<n.date())return-u(n,o);var a=12*(n.year()-o.year())+(n.month()-o.month()),r=o.clone().add(a,I),l=n-r<0,d=o.clone().add(a+(l?-1:1),I);return+(-(a+(n-r)/(l?r-d:d-r))||0)},a:function(u){return u<0?Math.ceil(u)||0:Math.floor(u)},p:function(u){return{M:I,y:b,w:U,d:w,D:q,h:E,m:T,s:g,ms:f,Q:K}[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(u){return u===void 0}},P="en",H={};H[P]=ft;var tt="$isDayjsObject",F=function(u){return u instanceof B||!(!u||!u[tt])},Y=function u(o,n,a){var r;if(!o)return P;if(typeof o=="string"){var l=o.toLowerCase();H[l]&&(r=l),n&&(H[l]=n,r=l);var d=o.split("-");if(!r&&d.length>1)return u(d[0])}else{var m=o.name;H[m]=o,r=m}return!a&&r&&(P=r),r||!a&&P},D=function(u,o){if(F(u))return u.clone();var n=typeof o=="object"?o:{};return n.date=u,n.args=arguments,new B(n)},h=ht;h.l=Y,h.i=F,h.w=function(u,o){return D(u,{locale:o.$L,utc:o.$u,x:o.$x,$offset:o.$offset})};var B=function(){function u(n){this.$L=Y(n.locale,null,!0),this.parse(n),this.$x=this.$x||n.x||{},this[tt]=!0}var o=u.prototype;return o.parse=function(n){this.$d=function(a){var r=a.date,l=a.utc;if(r===null)return new Date(NaN);if(h.u(r))return new Date;if(r instanceof Date)return new Date(r);if(typeof r=="string"&&!/Z$/i.test(r)){var d=r.match(lt);if(d){var m=d[2]-1||0,p=(d[7]||"0").substring(0,3);return l?new Date(Date.UTC(d[1],m,d[3]||1,d[4]||0,d[5]||0,d[6]||0,p)):new Date(d[1],m,d[3]||1,d[4]||0,d[5]||0,d[6]||0,p)}}return new Date(r)}(n),this.init()},o.init=function(){var n=this.$d;this.$y=n.getFullYear(),this.$M=n.getMonth(),this.$D=n.getDate(),this.$W=n.getDay(),this.$H=n.getHours(),this.$m=n.getMinutes(),this.$s=n.getSeconds(),this.$ms=n.getMilliseconds()},o.$utils=function(){return h},o.isValid=function(){return this.$d.toString()!==X},o.isSame=function(n,a){var r=D(n);return this.startOf(a)<=r&&r<=this.endOf(a)},o.isAfter=function(n,a){return D(n)<this.startOf(a)},o.isBefore=function(n,a){return this.endOf(a)<D(n)},o.$g=function(n,a,r){return h.u(n)?this[a]:this.set(r,n)},o.unix=function(){return Math.floor(this.valueOf()/1e3)},o.valueOf=function(){return this.$d.getTime()},o.startOf=function(n,a){var r=this,l=!!h.u(a)||a,d=h.p(n),m=function(O,y){var k=h.w(r.$u?Date.UTC(r.$y,y,O):new Date(r.$y,y,O),r);return l?k:k.endOf(w)},p=function(O,y){return h.w(r.toDate()[O].apply(r.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(y)),r)},$=this.$W,M=this.$M,L=this.$D,_="set"+(this.$u?"UTC":"");switch(d){case b:return l?m(1,0):m(31,11);case I:return l?m(1,M):m(0,M+1);case U:var C=this.$locale().weekStart||0,R=($<C?$+7:$)-C;return m(l?L-R:L+(6-R),M);case w:case q:return p(_+"Hours",0);case E:return p(_+"Minutes",1);case T:return p(_+"Seconds",2);case g:return p(_+"Milliseconds",3);default:return this.clone()}},o.endOf=function(n){return this.startOf(n,!1)},o.$set=function(n,a){var r,l=h.p(n),d="set"+(this.$u?"UTC":""),m=(r={},r[w]=d+"Date",r[q]=d+"Date",r[I]=d+"Month",r[b]=d+"FullYear",r[E]=d+"Hours",r[T]=d+"Minutes",r[g]=d+"Seconds",r[f]=d+"Milliseconds",r)[l],p=l===w?this.$D+(a-this.$W):a;if(l===I||l===b){var $=this.clone().set(q,1);$.$d[m](p),$.init(),this.$d=$.set(q,Math.min(this.$D,$.daysInMonth())).$d}else m&&this.$d[m](p);return this.init(),this},o.set=function(n,a){return this.clone().$set(n,a)},o.get=function(n){return this[h.p(n)]()},o.add=function(n,a){var r,l=this;n=Number(n);var d=h.p(a),m=function(M){var L=D(l);return h.w(L.date(L.date()+Math.round(M*n)),l)};if(d===I)return this.set(I,this.$M+n);if(d===b)return this.set(b,this.$y+n);if(d===w)return m(1);if(d===U)return m(7);var p=(r={},r[T]=i,r[E]=c,r[g]=s,r)[d]||1,$=this.$d.getTime()+n*p;return h.w($,this)},o.subtract=function(n,a){return this.add(-1*n,a)},o.format=function(n){var a=this,r=this.$locale();if(!this.isValid())return r.invalidDate||X;var l=n||"YYYY-MM-DDTHH:mm:ssZ",d=h.z(this),m=this.$H,p=this.$m,$=this.$M,M=r.weekdays,L=r.months,_=r.meridiem,C=function(y,k,x,V){return y&&(y[k]||y(a,l))||x[k].slice(0,V)},R=function(y){return h.s(m%12||12,y,"0")},O=_||function(y,k,x){var V=y<12?"AM":"PM";return x?V.toLowerCase():V};return l.replace(dt,function(y,k){return k||function(x){switch(x){case"YY":return String(a.$y).slice(-2);case"YYYY":return h.s(a.$y,4,"0");case"M":return $+1;case"MM":return h.s($+1,2,"0");case"MMM":return C(r.monthsShort,$,L,3);case"MMMM":return C(L,$);case"D":return a.$D;case"DD":return h.s(a.$D,2,"0");case"d":return String(a.$W);case"dd":return C(r.weekdaysMin,a.$W,M,2);case"ddd":return C(r.weekdaysShort,a.$W,M,3);case"dddd":return M[a.$W];case"H":return String(m);case"HH":return h.s(m,2,"0");case"h":return R(1);case"hh":return R(2);case"a":return O(m,p,!0);case"A":return O(m,p,!1);case"m":return String(p);case"mm":return h.s(p,2,"0");case"s":return String(a.$s);case"ss":return h.s(a.$s,2,"0");case"SSS":return h.s(a.$ms,3,"0");case"Z":return d}return null}(y)||d.replace(":","")})},o.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},o.diff=function(n,a,r){var l,d=this,m=h.p(a),p=D(n),$=(p.utcOffset()-this.utcOffset())*i,M=this-p,L=function(){return h.m(d,p)};switch(m){case b:l=L()/12;break;case I:l=L();break;case K:l=L()/3;break;case U:l=(M-$)/6048e5;break;case w:l=(M-$)/864e5;break;case E:l=M/c;break;case T:l=M/i;break;case g:l=M/s;break;default:l=M}return r?l:h.a(l)},o.daysInMonth=function(){return this.endOf(I).$D},o.$locale=function(){return H[this.$L]},o.locale=function(n,a){if(!n)return this.$L;var r=this.clone(),l=Y(n,a,!0);return l&&(r.$L=l),r},o.clone=function(){return h.w(this.$d,this)},o.toDate=function(){return new Date(this.valueOf())},o.toJSON=function(){return this.isValid()?this.toISOString():null},o.toISOString=function(){return this.$d.toISOString()},o.toString=function(){return this.$d.toUTCString()},u}(),et=B.prototype;return D.prototype=et,[["$ms",f],["$s",g],["$m",T],["$H",E],["$W",w],["$M",I],["$y",b],["$D",q]].forEach(function(u){et[u[1]]=function(o){return this.$g(o,u[0],u[1])}}),D.extend=function(u,o){return u.$i||(u(o,B,D),u.$i=!0),D},D.locale=Y,D.isDayjs=F,D.unix=function(u){return D(1e3*u)},D.en=H[P],D.Ls=H,D.p={},D})}(N)),N.exports}var vt=pt();const S=mt(vt);function Dt(){const{currentDateInputWrapper:t,currentDateInput:e}=v();if(!t||!e||!(e instanceof HTMLInputElement)){console.error("Couldn't find the current date inputs");return}return t&&!t.classList.contains("hidden")}function v(){const t=document.getElementById("current-date-wrapper"),e=document.getElementById("current-date"),s=document.getElementById("target-date"),i=Array.from(document.querySelectorAll(".date-radio")),c=Array.from(document.querySelectorAll(".verb-radio")),f=document.getElementById("result"),g=document.getElementById("error"),T=Array.from(document.querySelectorAll(".quick-action-button")),E=Array.from(document.querySelectorAll(".qc-verb-text")),w=Array.from(document.querySelectorAll(".quick-action-toggle"));return{currentDateInputWrapper:t,currentDateInput:e,targetDateInput:s,dateRadios:i,verbRadios:c,resultDiv:f,errorDiv:g,quickActionButtons:T,quickActionToggles:w,quickActionVerbs:E}}function Q(t){const{errorDiv:e}=v();if(!e){console.error("Couldn't find the error div");return}if(!t){e.innerText="";return}e.innerText=t}function Z(t){const{resultDiv:e}=v();if(!e){console.error("Couldn't find the result div");return}if(!t){e.innerText="";return}e.innerText=t}function $t(){const{resultDiv:t,errorDiv:e}=v();if(!t||!e){console.error("Couldn't find the result or error div");return}Z(!1),Q(!1)}function at(t){const{verbRadios:e}=v();t>0?e.find(s=>{if(!(s instanceof HTMLInputElement)){console.error("Radio is not an instance of HTMLInputElement");return}s.value==="until"&&(s.checked=!0)}):e.find(s=>{if(!(s instanceof HTMLInputElement)){console.error("Radio is not an instance of HTMLInputElement");return}s.value==="since"&&(s.checked=!0)})}const rt=()=>{const{quickActionVerbs:t,quickActionToggles:e}=v(),s=Mt();if(!e.length){console.error("Couldn't find the quick action toggles");return}t.forEach((i,c)=>{if(!(i instanceof HTMLSpanElement)){console.error("Verb is not an instance of HTMLSpanElement");return}i.textContent=s??""})};function Mt(){const{quickActionToggles:t}=v();if(!t.length){console.error("Couldn't find the quick action toggles");return}const e=Array.from(t).find(i=>{if(!(i instanceof HTMLInputElement)){console.error("Toggle is not an instance of HTMLInputElement");return}return i.checked});if(!e){console.error("No toggle is checked");return}const s=e==null?void 0:e.nextElementSibling;if(!(s instanceof HTMLLabelElement)){console.error("Label element is not an instance of HTMLLabelElement");return}return s.textContent}const z="targetDate",it="counting",j="startDate";function yt(){const t=Array.from(document.querySelectorAll(".date-radio"));if(!t.length){console.error("Couldn't find the date radio's for whatever reason. Did we change the HTML?");return}t.forEach(e=>{e.addEventListener("change",s=>{const i=s.target;if(!(i instanceof HTMLInputElement)){console.error("Event target is not an input element");return}st(i.value==="other")})})}function st(t){const e=document.getElementById("current-date-wrapper");if(!e){console.error("Couldn't find the current date wrapper");return}t?e.classList.remove("hidden"):(e.classList.add("hidden"),J(j))}function Tt(){const{targetDateInput:t}=v();if(!t||!(t instanceof HTMLInputElement)){console.error("Couldn't find the target date input");return}const s=new URLSearchParams(window.location.search).get(z);s&&(t.value=s)}function Lt(){const{quickActionToggles:t}=v();if(!t){console.error("Couldn't find the quick action toggles");return}const s=new URLSearchParams(window.location.search).get(it);if(!s)return;const i=Array.from(t).find(c=>{if(!(c instanceof HTMLInputElement)){console.error("Toggle is not an instance of HTMLInputElement");return}return c.value===s});!i||!(i instanceof HTMLInputElement)||(i.checked=!0)}function It(){const{currentDateInput:t,dateRadios:e}=v();if(!t||!(t instanceof HTMLInputElement)){console.error("Couldn't find the current date input");return}const i=new URLSearchParams(window.location.search).get(j);i&&(e.find(c=>{if(!(c instanceof HTMLInputElement)){console.error("Radio is not an instance of HTMLInputElement");return}c.value==="other"&&(c.checked=!0)}),st(!0),A(),t.value=i)}function ut(){const{quickActionToggles:t}=v();if(!t){console.error("Couldn't find the quick action toggles");return}const e=Array.from(t).find(i=>{if(!(i instanceof HTMLInputElement)){console.error("Toggle is not an instance of HTMLInputElement");return}return i.checked});if(!e||!(e instanceof HTMLInputElement))return;const s=e.value;G({paramName:it,paramValue:s})}function Et(){const{currentDateInput:t}=v();if(!t||!(t instanceof HTMLInputElement)){console.error("Couldn't find the current date input");return}const e=t.value;G({paramName:j,paramValue:e})}function ct(){const{targetDateInput:t}=v();if(!t||!(t instanceof HTMLInputElement)){console.error("Couldn't find the target date input");return}const e=t.value;G({paramName:z,paramValue:e})}function G({paramName:t,paramValue:e}){const s=new URL(window.location.href);s.searchParams.set(t,e),window.history.pushState({},"",s.toString())}function J(t){const e=new URL(window.location.href);e.searchParams.delete(t),window.history.pushState({},"",e.toString())}ut();const wt=()=>{const{currentDateInput:t,targetDateInput:e,dateRadios:s,verbRadios:i}=v();if(!e||!t){console.error("Couldn't find the date inputs");return}if(!s.length){console.error("Couldn't find the date radio's for whatever reason. Did we change the HTML?");return}if(!i.length){console.error("Couldn't find the verb radio's for whatever reason. Did we change the HTML?");return}e.addEventListener("change",()=>{A(),ct()}),t.addEventListener("change",()=>{A()}),s.forEach(c=>{c.addEventListener("change",A)}),i.forEach(c=>{c.addEventListener("change",A)})},St=()=>{const{quickActionButtons:t,quickActionToggles:e,quickActionVerbs:s}=v();if(!t.length){console.error("Couldn't find the quick action buttons");return}if(!e.length){console.error("Couldn't find the quick action toggles");return}if(!s.length){console.error("Couldn't find the quick action verbs");return}rt(),e.forEach(i=>{i.addEventListener("change",()=>{ut(),rt(),J(j),J(z),A()})}),t.forEach(i=>{i.addEventListener("click",()=>{i instanceof HTMLButtonElement&&kt(i)})})},A=()=>{$t();const t=Dt(),{resultDiv:e,verbRadios:s}=v();if(!e){console.error("Couldn't find the result div");return}if(!s.length){console.error("Couldn't find the verb radios");return}if(t){bt();return}At()};function At(){const{targetDateInput:t}=v();if(!t||!(t instanceof HTMLInputElement)){console.error("Couldn't find the target date input or it's not an input element");return}const e=S(t.value),s=S(),i=Math.ceil(e.diff(s,"day",!0)),c=i>0?"to go":"ago";Z(`${Math.abs(i)} days ${c}`),at(i)}function bt(){const{currentDateInput:t,targetDateInput:e}=v();if(!(t instanceof HTMLInputElement)){console.error("currentDateInput is not an instance of HTMLInputElement");return}if(t.value.length||Q('Please enter a valid date in the "other" date field'),!e||!(e instanceof HTMLInputElement)){console.error("Couldn't find the target date input or it's not an input element");return}Et();const s=S(e.value),i=S(t.value);if(!i.isValid()){Q('Please enter a valid date in the "other" date field');return}const c=Math.ceil(s.diff(i,"day",!0)),f=c>0?"to go":"ago";Z(`${Math.abs(c)} days ${f}`),at(c)}const kt=t=>{const{targetDateInput:e,quickActionToggles:s,resultDiv:i}=v();if(!e||!(e instanceof HTMLInputElement)){console.error("Couldn't find the target date input");return}const c=s.find(f=>f instanceof HTMLInputElement?f.checked:!1);if(!(c instanceof HTMLInputElement)){console.error("Couldn't find the active quick action verb");return}if(c.value==="until-qc"){const f=t.getAttribute("data-date"),g=S(),T=S(`${g.year()}-${f}`);g.isAfter(T)?e.value=`${g.year()+1}-${f}`:e.value=`${g.year()}-${f}`}else{const f=t.getAttribute("data-date"),g=S(),T=S(`${g.year()}-${f}`);g.isBefore(T)?e.value=`${g.year()-1}-${f}`:e.value=`${g.year()}-${f}`}A(),ct(),i==null||i.scrollIntoView({behavior:"smooth"})};A();function ot(){const t=document.getElementById("date");t&&(t.innerHTML=S().format("DD MMM YYYY HH:mm:ss"))}function Ht(){ot(),setInterval(ot,1e3),yt(),wt(),St(),Tt(),Lt(),It(),A()}document.addEventListener("DOMContentLoaded",Ht);
//# sourceMappingURL=index-BhFtUTCT.js.map
